-- InserIR
INSERT INTO clientes (nome, email, telefone) VALUES
('Ana Silva', 'ana@email.com', '99999-1234'),
('Carlos Souza', 'carlos@email.com', '98888-4321');

INSERT INTO produtos (nome, preco, categoria) VALUES
('Café Expresso', 5.00, 'Bebida'),
('Cappuccino', 7.50, 'Bebida'),
('Bolo de Chocolate', 12.00, 'Doce');

INSERT INTO pedidos (id_cliente, data_pedido) VALUES
(1, '2025-10-01'),
(2, '2025-10-02');

INSERT INTO itens_pedido (id_pedido, id_produto, quantidade) VALUES
(1, 1, 2),
(1, 3, 1),
(2, 2, 1);

-- Consulta: listar pedidos com nomes dos clientes
SELECT p.id_pedido, c.nome AS cliente, p.data_pedido
FROM pedidos p
JOIN clientes c ON p.id_cliente = c.id_cliente;

-- Consulta: listar itens de cada pedido
SELECT ip.id_pedido, pr.nome AS produto, ip.quantidade
FROM itens_pedido ip
JOIN produtos pr ON ip.id_produto = pr.id_produto;

-- Atualização: alterar preço de um produto
UPDATE produtos SET preco = 6.00 WHERE nome = 'Café Expresso';

-- Remoção: excluir um cliente (cascata exigiria ON DELETE CASCADE nas FKs)
DELETE FROM clientes WHERE id_cliente = 2;
